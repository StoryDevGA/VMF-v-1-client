/**
 * Theme System
 *
 * Purpose: Easy color scheme switching and theme variants
 * Supports: Multiple themes, dark mode, custom brand colors
 *
 * Usage:
 * - Default: No class needed (uses :root variables)
 * - Dark mode: Add data-theme="dark" to <html> or <body>
 * - Custom theme: Add data-theme="your-theme" to <html> or <body>
 */

/* ===========================
   DEFAULT THEME (StorylineOS Dark)
   =========================== */

:root {
  /* Semantic color assignments — StorylineOS dark-first palette
     #000000 default; override via --slos-bg when embedding. */
  --color-background: var(--slos-bg, #000000);
  --color-background-secondary: #0a0a0a;
  --color-background-tertiary: #141414;

  --color-surface: #111111;
  --color-surface-elevated: #1a1a1a;

  --color-text-primary: var(--slos-text, #d6dcdc);
  --color-text-secondary: #a8b0b0;
  --color-text-tertiary: #7a8484;
  --color-text-inverse: #000000;

  --color-border: #2a2a2a;
  --color-border-hover: #3a3a3a;
  --color-border-focus: var(--color-primary-300);

  --color-action-primary: var(--slos-btn-bg, #d6dcdc);
  --color-action-primary-hover: var(--slos-btn-hover-bg, transparent);
  --color-action-primary-active: #bfc5c5;

  --color-action-secondary: #1f1f1f;
  --color-action-secondary-hover: #2a2a2a;
  --color-action-secondary-active: #333333;

  /* Shorthand aliases — referenced by many components */
  --color-primary: #d6dcdc;
  --color-danger: var(--color-error);
  --color-text: var(--color-text-primary);
  --color-link: var(--color-primary-300);
  --color-border-default: var(--color-border);
  --color-border-subtle: color-mix(in srgb, var(--color-border) 50%, transparent);
  --color-disabled-text: var(--color-text-tertiary);
}

/* ===========================
   DARK THEME
   =========================== */

[data-theme='dark'] {
  /* Mirrors the default :root SLOS dark palette.
     Kept for explicit dark-mode toggling via JS. */
  --color-background: var(--slos-bg, #000000);
  --color-background-secondary: #0a0a0a;
  --color-background-tertiary: #141414;

  --color-surface: #111111;
  --color-surface-elevated: #1a1a1a;

  --color-text-primary: var(--slos-text, #d6dcdc);
  --color-text-secondary: #a8b0b0;
  --color-text-tertiary: #7a8484;
  --color-text-inverse: #000000;

  --color-border: #2a2a2a;
  --color-border-hover: #3a3a3a;
  --color-border-focus: var(--color-primary-300);

  --color-action-primary: var(--slos-btn-bg, #d6dcdc);
  --color-action-primary-hover: var(--slos-btn-hover-bg, transparent);
  --color-action-primary-active: #bfc5c5;

  --color-action-secondary: #1f1f1f;
  --color-action-secondary-hover: #2a2a2a;
  --color-action-secondary-active: #333333;
}

/* ===========================
   ALTERNATIVE THEME EXAMPLE
   Custom brand colors
   =========================== */

[data-theme='ocean'] {
  /* Override primary colors with ocean blue palette */
  --color-primary-50: #ecfeff;
  --color-primary-100: #cffafe;
  --color-primary-200: #a5f3fc;
  --color-primary-300: #67e8f9;
  --color-primary-400: #22d3ee;
  --color-primary-500: #06b6d4;
  --color-primary-600: #0891b2;
  --color-primary-700: #0e7490;
  --color-primary-800: #155e75;
  --color-primary-900: #164e63;

  /* Semantic colors use the new primary palette */
  --color-action-primary: var(--color-primary-500);
  --color-action-primary-hover: var(--color-primary-400);
  --color-action-primary-active: var(--color-primary-600);
}

[data-theme='sunset'] {
  /* Override primary colors with orange/red palette */
  --color-primary-50: #fff7ed;
  --color-primary-100: #ffedd5;
  --color-primary-200: #fed7aa;
  --color-primary-300: #fdba74;
  --color-primary-400: #fb923c;
  --color-primary-500: #f97316;
  --color-primary-600: #ea580c;
  --color-primary-700: #c2410c;
  --color-primary-800: #9a3412;
  --color-primary-900: #7c2d12;

  --color-action-primary: var(--color-primary-500);
  --color-action-primary-hover: var(--color-primary-400);
  --color-action-primary-active: var(--color-primary-600);
}

[data-theme='forest'] {
  /* Override primary colors with green palette */
  --color-primary-50: #f0fdf4;
  --color-primary-100: #dcfce7;
  --color-primary-200: #bbf7d0;
  --color-primary-300: #86efac;
  --color-primary-400: #4ade80;
  --color-primary-500: #22c55e;
  --color-primary-600: #16a34a;
  --color-primary-700: #15803d;
  --color-primary-800: #166534;
  --color-primary-900: #14532d;

  --color-action-primary: var(--color-primary-500);
  --color-action-primary-hover: var(--color-primary-400);
  --color-action-primary-active: var(--color-primary-600);
}

/* ===========================
   THEME TRANSITIONS
   =========================== */

/**
 * Smooth transition when switching themes
 * Applied to elements that should animate on theme change
 */
body {
  /* StorylineOS: solid black background with SLOS text color */
  background-color: var(--color-background, var(--slos-bg-fallback, #000000));
  color: var(--color-text-primary);
  transition: background-color var(--transition-base),
              color var(--transition-base);
}

/* ===========================
   RESPECT USER PREFERENCES
   =========================== */

/**
 * The default :root theme is already the SLOS dark palette,
 * so no prefers-color-scheme override is needed.
 * The neutral tokens apply regardless of system preference.
 */
