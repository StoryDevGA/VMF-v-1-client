/**
 * HorizontalScroll Styles
 *
 * Provides a full-width horizontally scrollable container.
 * Optimized for mobile devices with touch-friendly interactions.
 */

.h-scroll {
  position: relative;
  width: 100%;
  max-width: 100%;
  min-width: 0;
  overflow: hidden;
  /* Prevent content from being hidden behind notches on mobile */
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
}

.h-scroll__track {
  display: flex;
  gap: var(--spacing-md);
  overflow-x: auto;
  overflow-y: hidden;
  min-width: 0;
  max-width: 100%;
  padding: var(--spacing-sm);
  scroll-behavior: smooth;
  scrollbar-width: thin;
  scrollbar-color: color-mix(in srgb, var(--color-border) 60%, transparent) transparent;

  /* Mobile-optimized touch interactions */
  touch-action: pan-x;
  -webkit-overflow-scrolling: touch; /* iOS momentum scrolling */
  overscroll-behavior-x: contain; /* Prevent page scroll when reaching end */
  overscroll-behavior-y: none;

  /* Ensure focus is visible for keyboard navigation */
  outline: none;
}

/* Focus indicator for accessibility */
.h-scroll__track:focus-visible {
  outline: 2px solid var(--color-primary);
  outline-offset: -2px;
}

/* Desktop scrollbar styling */
.h-scroll__track::-webkit-scrollbar {
  height: 8px;
}

.h-scroll__track::-webkit-scrollbar-thumb {
  background: color-mix(in srgb, var(--color-border) 60%, transparent);
  border-radius: var(--border-radius-sm);
}

.h-scroll__track::-webkit-scrollbar-track {
  background: transparent;
}

/* Hidden scrollbar variant */
.h-scroll__track--hide-scrollbar {
  scrollbar-width: none;
  -ms-overflow-style: none;
}

.h-scroll__track--hide-scrollbar::-webkit-scrollbar {
  display: none;
}

/* Snap scrolling for mobile-friendly navigation */
.h-scroll__track--snap {
  scroll-snap-type: x mandatory;
  scroll-padding: var(--spacing-sm);
}

.h-scroll__track--snap > * {
  scroll-snap-align: start;
  scroll-snap-stop: always; /* Force snap points on mobile */
}

/* Mobile optimizations (small devices) */
@media (max-width: 640px) {
  .h-scroll__track {
    padding: var(--spacing-xs) var(--spacing-sm);
    gap: var(--spacing-sm);
    /* Hide scrollbar on small mobile devices for cleaner UI */
    scrollbar-width: none;
    -ms-overflow-style: none;
  }

  .h-scroll__track::-webkit-scrollbar {
    display: none;
  }

  /* Tighter snap on mobile */
  .h-scroll__track--snap {
    scroll-padding: var(--spacing-xs);
  }

  /* Ensure children have minimum touch target size */
  .h-scroll__track > * {
    min-width: 44px; /* iOS minimum touch target */
    min-height: 44px;
  }
}

/* Tablet optimizations */
@media (min-width: 641px) and (max-width: 1024px) {
  .h-scroll__track {
    padding: var(--spacing-sm) var(--spacing-md);
    gap: var(--spacing-md);
  }
}

/* Landscape mobile optimization */
@media (max-width: 896px) and (orientation: landscape) {
  .h-scroll__track {
    padding: var(--spacing-xs);
    gap: var(--spacing-sm);
  }
}

/* Reduce motion for accessibility */
@media (prefers-reduced-motion: reduce) {
  .h-scroll__track {
    scroll-behavior: auto;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .h-scroll__track:focus-visible {
    outline-width: 3px;
  }
}
